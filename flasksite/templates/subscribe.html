{% extends "layout.html" %}
{% block content %}

<br>

<div class="container">
  <h2>Subscribe to JonathanOlson.us</h2>
</div>

<br>
<p>Subscribe to JonathanOlson.us to receive intermittent news, updates, and more!</p>
<br>

<hr>

<br>
<br>

<!-- Create a Credit Card Submission form -->
<!-- Copied from https://dev.recurly.com/docs/recurly-js-getting-started -->
<h2>Create Billing Account</h2>
<p class="text-muted">Accounts, Payments via Recurly</p>

<form method="post" action="/api/subscriptions/new">
  <div class="tweet-container">
      <br>
        <label class="form-control-label" for="first_name">First Name</label>
      <br>
        <input class="form-control form-control-lg" type="text" data-recurly="first_name">
      <br>
      <br>
        <label class="form-control-label" for="last_name">Last Name</label>
      <br>
        <input class="form-control form-control-lg" type="text" data-recurly="last_name">
      <br>
      <br>
        <label class="form-control-label" for="address1">Address</label>
      <br/>
        <input class="form-control form-control-lg" type="text" data-recurly="address1">
      <br/>
      <br>
        <label class="form-control-label" for="address2">Address (cont.)</label>
      <br>
        <input class="form-control form-control-lg" type="text" data-recurly="address2">
      <br>
      <br>
        <label class="form-control-label" for="city">City</label>
      <br>
        <input class="form-control form-control-lg" type="text" data-recurly="city">
      <br>
      <br>
        <label class="form-control-label" for="state">State</label>
      <br>
        <input class="form-control form-control-lg" type="text" data-recurly="state">
      <br>
      <br>
        <label class="form-control-label" for="postal_code">Postal Code</label>
      <br>
        <input class="form-control form-control-lg" type="text" data-recurly="postal_code">
      <br>
      <br>
        <label class="form-control-label" for="country">Country</label>
      <br>
        <input class="form-control form-control-lg" type="text" data-recurly="country">
      <br>
      <br>
        <label class="form-control-label" for="phone">Phone</label>
      <br>
        <input class="form-control form-control-lg" type="text" data-recurly="phone">
      <br>
        <div data-recurly="card" id="cc-box">
        <input type="hidden" name="recurly-token" data-recurly="token">
        </div>
      <button class="btn btn-outline-warning" value="new_subscription">Subscribe</button>
      <input type="hidden" data-recurly="token" name="recurly-token">
    </div>
</form>

<!-- Add JS configuration for recurly -->
<script type="text/javascript">
  recurly.configure({
  publicKey: 'ewr1-LcPWTh1YMo8cAhlir0Z0Vg',
  fields: {

    // affects all fields
    all: {
      style: {
        fontFamily: 'Roboto'
      }
    },

    // affects the combined card field
    card: {
      displayIcon: true,
      style: {
	fontWeight: '100',
        fontSize: '1.3rem',
        fontColor: '#cccccc',
        placeholder: {
          color: '#cccccc !important',
          fontWeight: 'bold',
          content: {
            number: 'Card number',
            cvv: 'CVC'
          }
        },
        invalid: {
          fontColor: 'red'
        }
      }
    },

    // affects individual card field types
    number: {
      // Custom target selector
      selector: '#recurly-number',
      // Format the card number
      format: true
    },
    month: {
      // Display a month select on mobile devices
      inputType: 'mobileSelect',
      style: {
        placeholder: {
          content: 'MM'
        }
      }
    },
    year: {
      style: {
        placeholder: {
          content: 'YYYY'
        }
      }
    },
    cvv: {}
  }
});
</script>

{% endblock content %}
